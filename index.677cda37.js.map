{"mappings":"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","sources":["dist/js/utils/bindForm.js","dist/js/helpers/local-storage.helpers.js","dist/js/utils/createNewItem.js","dist/js/helpers/task.helpers.js","dist/js/helpers/bind-event.helpers.js","dist/js/helpers/dom.helpers.js","dist/js/helpers/render.helpers.js","dist/js/constants.js","dist/js/app.js"],"sourcesContent":["export function bindForm(block, addNewItem) {\r\n    const formEl = document.querySelector(`[data-${block}-form]`);\r\n    formEl.addEventListener('submit', e => {\r\n        e.preventDefault();\r\n        addNewItem();\r\n    });\r\n}\r\n","import { lists, activeListId } from '../app.js';\r\nimport { ACTIVE_LIST_KEY, LISTS_KEY } from '../constants.js';\r\nexport function saveInLocalStorage() {\r\n    localStorage.setItem(LISTS_KEY, JSON.stringify(lists));\r\n    localStorage.setItem(ACTIVE_LIST_KEY, JSON.stringify(activeListId));\r\n}\r\nexport const loadFromLocalStorage = (key) => JSON.parse(localStorage.getItem(key));\r\n","export function createNewItem(selector) {\r\n    const inputEl = document.querySelector(selector);\r\n    const value = inputEl.value.trim();\r\n    inputEl.focus();\r\n    inputEl.value = '';\r\n    return value;\r\n}\r\n","import { activeListId, lists, setActiveListId } from '../app.js';\r\nimport { createNewItem } from '../utils/createNewItem.js';\r\nimport { saveAndRender } from './render.helpers.js';\r\nexport function addNewTask() {\r\n    const newTaskName = createNewItem('[data-task-input]');\r\n    if (!newTaskName)\r\n        return;\r\n    const activeList = lists.find(list => list.id === activeListId);\r\n    activeList.tasks.push({\r\n        name: newTaskName,\r\n        done: false,\r\n    });\r\n    saveAndRender();\r\n}\r\nexport function toggleTaskDone(index) {\r\n    const activeList = lists.find(list => list.id === activeListId);\r\n    activeList.tasks[index].done = !activeList.tasks[index].done;\r\n    saveAndRender();\r\n}\r\nexport function deleteTask(index) {\r\n    const activeList = lists.find(list => list.id === activeListId);\r\n    activeList.tasks.splice(index, 1);\r\n    saveAndRender();\r\n}\r\nexport function addNewList() {\r\n    const newListName = createNewItem('[data-list-input]');\r\n    if (!newListName)\r\n        return;\r\n    lists.push({\r\n        id: Date.now().toString(),\r\n        name: newListName,\r\n        tasks: [],\r\n    });\r\n    saveAndRender();\r\n}\r\nexport function deleteList() {\r\n    const activeListIndex = lists.findIndex(list => list.id === activeListId);\r\n    lists.splice(activeListIndex, 1);\r\n    setActiveListId(null);\r\n    saveAndRender();\r\n}\r\nexport function clearCompletedTasks() {\r\n    const activeList = lists.find(list => list.id === activeListId);\r\n    lists.find(list => list.id === activeListId).tasks = activeList.tasks.filter(task => task.done === false);\r\n    saveAndRender();\r\n}\r\n","import { clearCompletedTasks, deleteList, deleteTask, toggleTaskDone, } from '../helpers/task.helpers.js';\r\nexport function bindTaskEvents() {\r\n    bindToggleButtons();\r\n    bindDeleteButtons();\r\n}\r\nexport function bindListEvents() {\r\n    bindClearCompletedTasksButton();\r\n    bindDeleteListButton();\r\n}\r\nfunction bindClearCompletedTasksButton() {\r\n    const clearCompletedButtonEl = document.querySelector('[data-clear-completed]');\r\n    clearCompletedButtonEl.addEventListener('click', () => {\r\n        clearCompletedTasks();\r\n    });\r\n}\r\nfunction bindDeleteListButton() {\r\n    const deleteListBtnEl = document.querySelector('[data-delete-list]');\r\n    deleteListBtnEl.addEventListener('click', () => {\r\n        deleteList();\r\n    });\r\n}\r\nfunction bindToggleButtons() {\r\n    const toggleButtonEls = document.querySelectorAll('[data-toggle]');\r\n    toggleButtonEls.forEach((button, index) => {\r\n        button.addEventListener('click', () => {\r\n            toggleTaskDone(index);\r\n        });\r\n    });\r\n}\r\nfunction bindDeleteButtons() {\r\n    const deleteButtonsEls = document.querySelectorAll('[data-delete]');\r\n    deleteButtonsEls.forEach((button, index) => {\r\n        button.addEventListener('click', () => {\r\n            deleteTask(index);\r\n        });\r\n    });\r\n}\r\n","import { activeListId } from '../app.js';\r\nexport function createListItemEl(list) {\r\n    const listItemEl = document.createElement('li');\r\n    listItemEl.setAttribute('data-list-item', list.id);\r\n    listItemEl.classList.add('lists__item');\r\n    list.id === activeListId && listItemEl.classList.add('lists__item--active');\r\n    listItemEl.innerText = list.name;\r\n    return listItemEl;\r\n}\r\nexport function createTaskItemEl(task) {\r\n    const taskItemEl = document.createElement('li');\r\n    taskItemEl.classList.add('tasks__item');\r\n    const taskToggleBtnEl = document.createElement('button');\r\n    taskToggleBtnEl.classList.add('tasks__toggle');\r\n    taskToggleBtnEl.type = 'button';\r\n    taskToggleBtnEl.setAttribute('data-toggle', '');\r\n    const iconEl = document.createElement('i');\r\n    iconEl.classList.add('fa-solid');\r\n    iconEl.classList.add(task.done ? 'fa-xmark' : 'fa-check');\r\n    taskToggleBtnEl.appendChild(iconEl);\r\n    const taskContentEl = document.createElement('span');\r\n    taskContentEl.innerText = task.name;\r\n    if (task.done)\r\n        taskContentEl.classList.add('tasks__content--done');\r\n    const taskDeleteBtnEl = document.createElement('button');\r\n    taskDeleteBtnEl.classList.add('tasks__delete');\r\n    taskDeleteBtnEl.type = 'button';\r\n    taskDeleteBtnEl.innerText = 'Delete';\r\n    taskDeleteBtnEl.setAttribute('data-delete', '');\r\n    taskItemEl.appendChild(taskToggleBtnEl);\r\n    taskItemEl.appendChild(taskContentEl);\r\n    taskItemEl.appendChild(taskDeleteBtnEl);\r\n    return taskItemEl;\r\n}\r\nexport function setTasksBlock(activeList) {\r\n    setTasksContainer(activeList);\r\n    activeList && setTasksInfo(activeList);\r\n}\r\nfunction setTasksContainer(activeList) {\r\n    const tasksContainerEl = document.querySelector('[data-tasks-container]');\r\n    if (activeList) {\r\n        tasksContainerEl.classList.remove('tasks--hidden');\r\n        const tasksTitleEl = document.querySelector('[data-tasks-title]');\r\n        tasksTitleEl.innerText = activeList.name;\r\n    }\r\n    else {\r\n        tasksContainerEl.classList.add('tasks--hidden');\r\n    }\r\n}\r\nfunction setTasksInfo(activeList) {\r\n    const tasksInfoEl = document.querySelector('[data-tasks-info]');\r\n    const remainingTasksCount = activeList.tasks.filter(task => !task.done).length;\r\n    tasksInfoEl.innerText = `${remainingTasksCount} task${remainingTasksCount !== 1 ? 's' : ''} remaining`;\r\n}\r\n","import { lists, activeListId } from '../app.js';\r\nimport { saveInLocalStorage } from './local-storage.helpers.js';\r\nimport { bindTaskEvents } from './bind-event.helpers.js';\r\nimport { createListItemEl, createTaskItemEl, setTasksBlock, } from './dom.helpers.js';\r\nexport function saveAndRender() {\r\n    render();\r\n    saveInLocalStorage();\r\n}\r\nfunction render() {\r\n    renderList();\r\n    renderTask();\r\n}\r\nfunction renderList() {\r\n    const listsEl = document.querySelector('[data-lists]');\r\n    listsEl.innerHTML = null;\r\n    lists.forEach((list) => {\r\n        listsEl.appendChild(createListItemEl(list));\r\n    });\r\n}\r\nfunction renderTask() {\r\n    const activeList = lists.find(list => list.id === activeListId);\r\n    if (activeListId) {\r\n        const tasksEl = document.querySelector('[data-tasks]');\r\n        tasksEl.innerHTML = null;\r\n        activeList.tasks.forEach(task => tasksEl.appendChild(createTaskItemEl(task)));\r\n    }\r\n    setTasksBlock(activeList);\r\n    bindTaskEvents();\r\n}\r\n","export const LISTS_KEY = 'todo.lists';\r\nexport const ACTIVE_LIST_KEY = 'todo.activeList';\r\n","import { ACTIVE_LIST_KEY, LISTS_KEY } from './constants.js';\r\nimport { bindForm } from './utils/bindForm.js';\r\nimport { saveAndRender } from './helpers/render.helpers.js';\r\nimport { loadFromLocalStorage } from './helpers/local-storage.helpers.js';\r\nimport { addNewList, addNewTask } from './helpers/task.helpers.js';\r\nimport { bindListEvents } from './helpers/bind-event.helpers.js';\r\nexport const lists = loadFromLocalStorage(LISTS_KEY) || [];\r\nexport let activeListId = loadFromLocalStorage(ACTIVE_LIST_KEY);\r\nexport const setActiveListId = (value) => (activeListId = value);\r\nfunction init() {\r\n    const listsEl = document.querySelector('[data-lists]');\r\n    listsEl.addEventListener('click', e => {\r\n        const targetEl = e.target;\r\n        setActiveListId(targetEl.getAttribute('data-list-item'));\r\n        saveAndRender();\r\n    });\r\n    bindForm('list', addNewList);\r\n    bindForm('task', addNewTask);\r\n    bindListEvents();\r\n    saveAndRender();\r\n}\r\ninit();\r\n"],"names":["$1915161c30896dde$export$ba613860a170a9f5","block","addNewItem","document","querySelector","addEventListener","e","preventDefault","$2977829ba102b2f1$export$e68c847c0bceb7d5","key","JSON","parse","localStorage","getItem","$27540396c1cae4d4$export$58946a56f7f7a317","selector","inputEl","value","trim","focus","$d3c28d7f377d1ead$export$210cf76140947b0c","newTaskName","$c21532b82de7dd85$export$ea72100717277f4a","find","list","id","$c21532b82de7dd85$export$61fa19e9b3ffb616","tasks","push","name","done","$926120f42d19334a$export$9e5fba512d4ab443","$d3c28d7f377d1ead$export$4e73d8ff55bed113","newListName","Date","now","toString","$ad2bde053f3a9a7e$export$bb0453663e08336c","querySelectorAll","forEach","button","index","activeList","splice","$ad2bde053f3a9a7e$export$a3d841f808f52f42","filter","task","activeListIndex","findIndex","$c21532b82de7dd85$export$a53a6e523090bb73","$748e993b49ea96fa$export$9a825ef7e0436e1d","tasksContainerEl","classList","remove","innerText","add","$748e993b49ea96fa$var$setTasksContainer","tasksInfoEl","remainingTasksCount","length","$748e993b49ea96fa$var$setTasksInfo","listsEl","innerHTML","appendChild","listItemEl","createElement","setAttribute","$926120f42d19334a$var$renderList","tasksEl","taskItemEl","taskToggleBtnEl","type","iconEl","taskContentEl","taskDeleteBtnEl","$926120f42d19334a$var$renderTask","setItem","stringify","targetEl","target","getAttribute"],"version":3,"file":"index.677cda37.js.map"}