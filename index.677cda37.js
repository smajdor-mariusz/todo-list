function t(t,e){document.querySelector(`[data-${t}-form]`).addEventListener("submit",(t=>{t.preventDefault(),e()}))}const e=t=>JSON.parse(localStorage.getItem(t));function n(t){const e=document.querySelector(t),n=e.value.trim();return e.focus(),e.value="",n}function s(){const t=n("[data-task-input]");if(!t)return;l.find((t=>t.id===r)).tasks.push({name:t,done:!1}),o()}function a(){const t=n("[data-list-input]");t&&(l.push({id:Date.now().toString(),name:t,tasks:[]}),o())}function i(){document.querySelectorAll("[data-toggle]").forEach(((t,e)=>{t.addEventListener("click",(()=>{!function(t){const e=l.find((t=>t.id===r));e.tasks[t].done=!e.tasks[t].done,o()}(e)}))})),document.querySelectorAll("[data-delete]").forEach(((t,e)=>{t.addEventListener("click",(()=>{!function(t){l.find((t=>t.id===r)).tasks.splice(t,1),o()}(e)}))}))}function d(){document.querySelector("[data-clear-completed]").addEventListener("click",(()=>{!function(){const t=l.find((t=>t.id===r));l.find((t=>t.id===r)).tasks=t.tasks.filter((t=>!1===t.done)),o()}()})),document.querySelector("[data-delete-list]").addEventListener("click",(()=>{!function(){const t=l.findIndex((t=>t.id===r));l.splice(t,1),u(null),o()}()}))}function c(t){!function(t){const e=document.querySelector("[data-tasks-container]");if(t){e.classList.remove("tasks--hidden");document.querySelector("[data-tasks-title]").innerText=t.name}else e.classList.add("tasks--hidden")}(t),t&&function(t){const e=document.querySelector("[data-tasks-info]"),n=t.tasks.filter((t=>!t.done)).length;e.innerText=`${n} task${1!==n?"s":""} remaining`}(t)}function o(){(function(){const t=document.querySelector("[data-lists]");t.innerHTML=null,l.forEach((e=>{t.appendChild(function(t){const e=document.createElement("li");return e.setAttribute("data-list-item",t.id),e.classList.add("lists__item"),t.id===r&&e.classList.add("lists__item--active"),e.innerText=t.name,e}(e))}))})(),function(){const t=l.find((t=>t.id===r));if(r){const e=document.querySelector("[data-tasks]");e.innerHTML=null,t.tasks.forEach((t=>e.appendChild(function(t){const e=document.createElement("li");e.classList.add("tasks__item");const n=document.createElement("button");n.classList.add("tasks__toggle"),n.type="button",n.setAttribute("data-toggle","");const s=document.createElement("i");s.classList.add("fa-solid"),s.classList.add(t.done?"fa-xmark":"fa-check"),n.appendChild(s);const a=document.createElement("span");a.innerText=t.name,t.done&&a.classList.add("tasks__content--done");const i=document.createElement("button");return i.classList.add("tasks__delete"),i.type="button",i.innerText="Delete",i.setAttribute("data-delete",""),e.appendChild(n),e.appendChild(a),e.appendChild(i),e}(t))))}c(t),i()}(),localStorage.setItem("todo.lists",JSON.stringify(l)),localStorage.setItem("todo.activeList",JSON.stringify(r))}const l=e("todo.lists")||[];let r=e("todo.activeList");const u=t=>r=t;document.querySelector("[data-lists]").addEventListener("click",(t=>{const e=t.target;u(e.getAttribute("data-list-item")),o()})),t("list",a),t("task",s),d(),o();
//# sourceMappingURL=index.677cda37.js.map
